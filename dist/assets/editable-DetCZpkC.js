import{r as u,j as e,M as R,P as n,t as O,a9 as b,x as D,_ as B,G as T}from"./index-DWuWYdwO.js";import{u as C,b as E,S as K,f as y}from"./ScrollX-CXfA3Xxu.js";import{a as G,C as S,b as X}from"./Filter-8E__ZJ4x.js";import{m as w}from"./react-table-Rm1pjJ7G.js";import{T as M,a as N,b as P}from"./TableContainer-DaSqANyU.js";import{T as v}from"./TableHead-UeT6rlXJ.js";import{T as g}from"./TableRow-Cu26Yl8o.js";import{T as j}from"./TableCell-DifTD_db.js";import{E as _}from"./EditTwoTone-DSJXXXwY.js";import{S as $}from"./SendOutlined-Cna2iGpv.js";import"./DownloadOutlined-cTRsJVoi.js";import"./CaretDownOutlined-BdKuwkK2.js";import"./CaretUpOutlined-CBZ3orfd.js";import"./LinearWithLabel-BAPJjuSq.js";import"./Slider-D_21UATg.js";import"./visuallyHidden-J1ppfhCd.js";import"./CheckOutlined-ByG7qEtx.js";import"./Pagination-B5ZV5Mua.js";import"./index-DROKURrI.js";import"./Checkbox-CkJQfgQ3.js";import"./MinusOutlined-BGvdEDO-.js";import"./index-x97IbILS.js";function k({columns:o,data:c,setData:t}){const i=C({data:c,columns:o,defaultColumn:{cell:G},getCoreRowModel:E(),meta:{updateData:(s,r,m)=>{t(x=>x.map((a,l)=>l===s?{...x[s],[r]:m}:a))}},debugTable:!0});let d=[];return i.getAllColumns().map(s=>s.columnDef.accessorKey&&d.push({label:typeof s.columnDef.header=="string"?s.columnDef.header:"#",key:s.columnDef.accessorKey})),e.jsx(R,{content:!1,title:"Editable Cell",secondary:e.jsx(S,{data:i.getRowModel().flatRows.map(s=>s.original),headers:d,filename:"editable-cell.csv"}),children:e.jsx(K,{children:e.jsx(M,{children:e.jsxs(N,{children:[e.jsx(v,{children:i.getHeaderGroups().map(s=>e.jsx(g,{children:s.headers.map(r=>e.jsx(j,{...r.column.columnDef.meta,children:r.isPlaceholder?null:y(r.column.columnDef.header,r.getContext())},r.id))},s.id))}),e.jsx(P,{children:i.getRowModel().rows.map(s=>e.jsx(g,{children:s.getVisibleCells().map(r=>e.jsx(j,{...r.column.columnDef.meta,children:y(r.column.columnDef.cell,r.getContext())},r.id))},s.id))})]})})})})}function q(){const[o,c]=u.useState(()=>w(10)),t=u.useMemo(()=>[{header:"Name",accessorKey:"fullName",dataType:"text"},{header:"Email",accessorKey:"email",dataType:"text"},{header:"Age",accessorKey:"age",dataType:"text",meta:{className:"cell-right"}},{header:"Visits",accessorKey:"visits",dataType:"text",meta:{className:"cell-right"}},{header:"Status",accessorKey:"status",dataType:"select"},{header:"Profile Progress",accessorKey:"progress",dataType:"progress"}],[]);return e.jsx(k,{data:o,columns:t,setData:c})}k.propTypes={columns:n.array,data:n.array,setData:n.any};function A({row:o,table:c}){var d;const t=(d=c==null?void 0:c.options)==null?void 0:d.meta,i=s=>{t==null||t.setSelectedRow(r=>({...r,[o.id]:!r[o.id]})),t==null||t.revertData(o.index,(s==null?void 0:s.currentTarget.name)==="cancel")};return e.jsxs(O,{direction:"row",spacing:1,alignItems:"center",children:[(t==null?void 0:t.selectedRow[o.id])&&e.jsx(b,{title:"Cancel",children:e.jsx(D,{color:"error",name:"cancel",onClick:i,children:e.jsx(B,{})})}),e.jsx(b,{title:t!=null&&t.selectedRow[o.id]?"Save":"Edit",children:e.jsx(D,{color:t!=null&&t.selectedRow[o.id]?"success":"primary",onClick:i,children:t!=null&&t.selectedRow[o.id]?e.jsx($,{}):e.jsx(_,{})})})]})}function V({columns:o,data:c,setData:t}){const[i,d]=u.useState(()=>[...c]),[s,r]=u.useState({}),m=C({data:c,columns:o,defaultColumn:{cell:X},getCoreRowModel:E(),meta:{selectedRow:s,setSelectedRow:r,revertData:(a,l)=>{l?t(f=>f.map((p,h)=>h===a?i[a]:p)):d(f=>f.map((p,h)=>h===a?c[a]:p))},updateData:(a,l,f)=>{t(p=>p.map((h,H)=>H===a?{...p[a],[l]:f}:h))}},debugTable:!0});let x=[];return m.getAllColumns().map(a=>a.columnDef.accessorKey&&x.push({label:typeof a.columnDef.header=="string"?a.columnDef.header:"#",key:a.columnDef.accessorKey})),e.jsx(R,{content:!1,title:"Editable Row",secondary:e.jsx(S,{data:m.getRowModel().flatRows.map(a=>a.original),headers:x,filename:"editable-row.csv"}),children:e.jsx(K,{children:e.jsx(M,{children:e.jsxs(N,{children:[e.jsx(v,{children:m.getHeaderGroups().map(a=>e.jsx(g,{children:a.headers.map(l=>e.jsx(j,{...l.column.columnDef.meta,children:l.isPlaceholder?null:y(l.column.columnDef.header,l.getContext())},l.id))},a.id))}),e.jsx(P,{children:m.getRowModel().rows.map(a=>e.jsx(g,{children:a.getVisibleCells().map(l=>e.jsx(j,{...l.column.columnDef.meta,children:y(l.column.columnDef.cell,l.getContext())},l.id))},a.id))})]})})})})}function z(){const[o,c]=u.useState(()=>w(10)),t=u.useMemo(()=>[{header:"Name",accessorKey:"fullName",dataType:"text"},{header:"Email",accessorKey:"email",dataType:"text"},{header:"Age",accessorKey:"age",dataType:"text",meta:{className:"cell-right"}},{header:"Visits",accessorKey:"visits",dataType:"text",meta:{className:"cell-right"}},{header:"Status",accessorKey:"status",dataType:"select"},{header:"Profile Progress",accessorKey:"progress",dataType:"progress"},{header:"Actions",id:"edit",cell:A,meta:{className:"cell-center"}}],[]);return e.jsx(V,{data:o,columns:t,setData:c})}A.propTypes={row:n.object,table:n.object};V.propTypes={columns:n.array,data:n.array,setData:n.any};function ue(){return e.jsxs(T,{container:!0,spacing:3,children:[e.jsx(T,{item:!0,xs:12,children:e.jsx(z,{})}),e.jsx(T,{item:!0,xs:12,children:e.jsx(q,{})})]})}export{ue as default};
