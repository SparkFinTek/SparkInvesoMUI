import{aw as B,bv as W,r as f,j as e,bw as q,aV as C,aW as x,aO as L,G as a,t as l,b3 as c,ay as d,b4 as o,az as k,x as D,aj as R,B as N,T as h,e as P,L as y,A as T,d as O}from"./index-BHUrCk0l.js";import{A as z}from"./AuthWrapper-DD3yEs3w.js";import{u as M}from"./useScriptRef-7gHbk30W.js";import{s as V,a as $}from"./password-strength-_dbWWfI_.js";import{E as G}from"./EyeOutlined-ecpR533H.js";import{E as H}from"./EyeInvisibleOutlined-CCnz2uFT.js";function J(){const{register:j}=B(),w=M(),S=W(),[t,A]=f.useState(),[g,F]=f.useState(!1),E=()=>{F(!g)},I=s=>{s.preventDefault()},b=s=>{const n=V(s);A($(n))};return f.useEffect(()=>{b("")},[]),e.jsx(e.Fragment,{children:e.jsx(q,{initialValues:{firstname:"",lastname:"",email:"",company:"",password:"",submit:null},validationSchema:C().shape({firstname:x().max(255).required("First Name is required"),lastname:x().max(255).required("Last Name is required"),email:x().email("Must be a valid email").max(255).required("Email is required"),password:x().max(255).required("Password is required")}),onSubmit:async(s,{setErrors:n,setStatus:r,setSubmitting:u})=>{try{await j(s.email,s.password,s.firstname,s.lastname),w.current&&(r({success:!0}),u(!1),L({open:!0,message:"Your registration has been successfully completed.",variant:"alert",alert:{color:"success"}}),setTimeout(()=>{S("/login",{replace:!0})},1500))}catch(p){console.error(p),w.current&&(r({success:!1}),n({submit:p.message}),u(!1))}},children:({errors:s,handleBlur:n,handleChange:r,handleSubmit:u,isSubmitting:p,touched:i,values:m})=>e.jsx("form",{noValidate:!0,onSubmit:u,children:e.jsxs(a,{container:!0,spacing:3,children:[e.jsxs(a,{item:!0,xs:12,md:6,children:[e.jsxs(l,{spacing:1,children:[e.jsx(c,{htmlFor:"firstname-signup",children:"First Name*"}),e.jsx(d,{id:"firstname-login",type:"firstname",value:m.firstname,name:"firstname",onBlur:n,onChange:r,placeholder:"John",fullWidth:!0,error:!!(i.firstname&&s.firstname)})]}),i.firstname&&s.firstname&&e.jsx(o,{error:!0,id:"helper-text-firstname-signup",children:s.firstname})]}),e.jsxs(a,{item:!0,xs:12,md:6,children:[e.jsxs(l,{spacing:1,children:[e.jsx(c,{htmlFor:"lastname-signup",children:"Last Name*"}),e.jsx(d,{fullWidth:!0,error:!!(i.lastname&&s.lastname),id:"lastname-signup",type:"lastname",value:m.lastname,name:"lastname",onBlur:n,onChange:r,placeholder:"Doe",inputProps:{}})]}),i.lastname&&s.lastname&&e.jsx(o,{error:!0,id:"helper-text-lastname-signup",children:s.lastname})]}),e.jsxs(a,{item:!0,xs:12,children:[e.jsxs(l,{spacing:1,children:[e.jsx(c,{htmlFor:"company-signup",children:"Company"}),e.jsx(d,{fullWidth:!0,error:!!(i.company&&s.company),id:"company-signup",value:m.company,name:"company",onBlur:n,onChange:r,placeholder:"Demo Inc.",inputProps:{}})]}),i.company&&s.company&&e.jsx(o,{error:!0,id:"helper-text-company-signup",children:s.company})]}),e.jsxs(a,{item:!0,xs:12,children:[e.jsxs(l,{spacing:1,children:[e.jsx(c,{htmlFor:"email-signup",children:"Email Address*"}),e.jsx(d,{fullWidth:!0,error:!!(i.email&&s.email),id:"email-login",type:"email",value:m.email,name:"email",onBlur:n,onChange:r,placeholder:"demo@company.com",inputProps:{}})]}),i.email&&s.email&&e.jsx(o,{error:!0,id:"helper-text-email-signup",children:s.email})]}),e.jsxs(a,{item:!0,xs:12,children:[e.jsxs(l,{spacing:1,children:[e.jsx(c,{htmlFor:"password-signup",children:"Password"}),e.jsx(d,{fullWidth:!0,error:!!(i.password&&s.password),id:"password-signup",type:g?"text":"password",value:m.password,name:"password",onBlur:n,onChange:v=>{r(v),b(v.target.value)},endAdornment:e.jsx(k,{position:"end",children:e.jsx(D,{"aria-label":"toggle password visibility",onClick:E,onMouseDown:I,edge:"end",color:"secondary",children:g?e.jsx(G,{}):e.jsx(H,{})})}),placeholder:"******",inputProps:{}})]}),i.password&&s.password&&e.jsx(o,{error:!0,id:"helper-text-password-signup",children:s.password}),e.jsx(R,{fullWidth:!0,sx:{mt:2},children:e.jsxs(a,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(a,{item:!0,children:e.jsx(N,{sx:{bgcolor:t==null?void 0:t.color,width:85,height:8,borderRadius:"7px"}})}),e.jsx(a,{item:!0,children:e.jsx(h,{variant:"subtitle1",fontSize:"0.75rem",children:t==null?void 0:t.label})})]})})]}),e.jsx(a,{item:!0,xs:12,children:e.jsxs(h,{variant:"body2",children:["By Signing up, you agree to our  ",e.jsx(P,{variant:"subtitle2",component:y,to:"#",children:"Terms of Service"}),"  and  ",e.jsx(P,{variant:"subtitle2",component:y,to:"#",children:"Privacy Policy"})]})}),s.submit&&e.jsx(a,{item:!0,xs:12,children:e.jsx(o,{error:!0,children:s.submit})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(T,{children:e.jsx(O,{disableElevation:!0,disabled:p,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Create Account"})})})]})})})})}function _(){const{isLoggedIn:j}=B();return e.jsx(z,{children:e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{item:!0,xs:12,children:e.jsxs(l,{direction:"row",justifyContent:"space-between",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:[e.jsx(h,{variant:"h3",children:"Sign up"}),e.jsx(h,{component:y,to:j?"/auth/login":"/login",variant:"body1",sx:{textDecoration:"none"},color:"primary",children:"Already have an account?"})]})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(J,{})})]})})}export{_ as default};
