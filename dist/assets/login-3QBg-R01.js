import{aK as x,aw as f,j as e,bw as F,aV as I,aW as j,dg as D,as as S,G as a,t as d,b3 as w,ay as g,b4 as m,az as B,x as T,F as W,T as p,e as q,L as b,A as R,d as z,P as M}from"./index-BHUrCk0l.js";import{A as O}from"./AuthWrapper-DD3yEs3w.js";import{u as V}from"./useScriptRef-7gHbk30W.js";import{E as $}from"./EyeOutlined-ecpR533H.js";import{E as G}from"./EyeInvisibleOutlined-CCnz2uFT.js";import{C as K}from"./Checkbox-CD0fXkyM.js";function y({isDemo:i=!1}){const[v,k]=x.useState(!1),{login:C}=f(),u=V(),[c,E]=x.useState(!1),L=()=>{E(!c)},A=s=>{s.preventDefault()};return e.jsx(e.Fragment,{children:e.jsx(F,{initialValues:{email:"info@codedthemes.com",password:"123456",submit:null},validationSchema:I().shape({email:j().email("Must be a valid email").max(255).required("Email is required"),password:j().max(255).required("Password is required")}),onSubmit:async(s,{setErrors:t,setStatus:r,setSubmitting:n})=>{try{await C(s.email,s.password),u.current&&(r({success:!0}),n(!1),D("api/menu/dashboard",S))}catch(o){console.error(o),u.current&&(r({success:!1}),t({submit:o.message}),n(!1))}},children:({errors:s,handleBlur:t,handleChange:r,handleSubmit:n,isSubmitting:o,touched:l,values:h})=>e.jsx("form",{noValidate:!0,onSubmit:n,children:e.jsxs(a,{container:!0,spacing:3,children:[e.jsxs(a,{item:!0,xs:12,children:[e.jsxs(d,{spacing:1,children:[e.jsx(w,{htmlFor:"email-login",children:"Email Address"}),e.jsx(g,{id:"email-login",type:"email",value:h.email,name:"email",onBlur:t,onChange:r,placeholder:"Enter email address",fullWidth:!0,error:!!(l.email&&s.email)})]}),l.email&&s.email&&e.jsx(m,{error:!0,id:"standard-weight-helper-text-email-login",children:s.email})]}),e.jsxs(a,{item:!0,xs:12,children:[e.jsxs(d,{spacing:1,children:[e.jsx(w,{htmlFor:"password-login",children:"Password"}),e.jsx(g,{fullWidth:!0,error:!!(l.password&&s.password),id:"-password-login",type:c?"text":"password",value:h.password,name:"password",onBlur:t,onChange:r,endAdornment:e.jsx(B,{position:"end",children:e.jsx(T,{"aria-label":"toggle password visibility",onClick:L,onMouseDown:A,edge:"end",color:"secondary",children:c?e.jsx($,{}):e.jsx(G,{})})}),placeholder:"Enter password"})]}),l.password&&s.password&&e.jsx(m,{error:!0,id:"standard-weight-helper-text-password-login",children:s.password})]}),e.jsx(a,{item:!0,xs:12,sx:{mt:-1},children:e.jsxs(d,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:2,children:[e.jsx(W,{control:e.jsx(K,{checked:v,onChange:P=>k(P.target.checked),name:"checked",color:"primary",size:"small"}),label:e.jsx(p,{variant:"h6",children:"Keep me sign in"})}),e.jsx(q,{variant:"h6",component:b,to:i?"/auth/forgot-password":"/forgot-password",color:"text.primary",children:"Forgot Password?"})]})}),s.submit&&e.jsx(a,{item:!0,xs:12,children:e.jsx(m,{error:!0,children:s.submit})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(R,{children:e.jsx(z,{disableElevation:!0,disabled:o,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Login"})})})]})})})})}y.propTypes={isDemo:M.bool};function Y(){const{isLoggedIn:i}=f();return e.jsx(O,{children:e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{item:!0,xs:12,children:e.jsxs(d,{direction:"row",justifyContent:"space-between",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:[e.jsx(p,{variant:"h3",children:"Login"}),e.jsx(p,{component:b,to:i?"/auth/register":"/register",variant:"body1",sx:{textDecoration:"none"},color:"primary",children:"Don't have an account?"})]})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(y,{isDemo:i})})]})})}export{Y as default};
