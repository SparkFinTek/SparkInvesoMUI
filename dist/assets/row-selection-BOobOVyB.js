import{r as d,j as e,a5 as m,M as w,t as y,a6 as C,B as b,P as R,G as f}from"./index-DWuWYdwO.js";import{u as P,b as T,c as Q,S as M,f as h}from"./ScrollX-CXfA3Xxu.js";import{L as I}from"./LinearWithLabel-BAPJjuSq.js";import{I as x,C as z,R as D,T as K}from"./Filter-8E__ZJ4x.js";import{m as v}from"./react-table-Rm1pjJ7G.js";import{T as k,a as H,b as N}from"./TableContainer-DaSqANyU.js";import{T as E}from"./TableHead-UeT6rlXJ.js";import{T as p}from"./TableRow-Cu26Yl8o.js";import{T as S}from"./TableCell-DifTD_db.js";import{u as B,Q as q,a as F,b as L,k as W}from"./useBaseQuery-B8uBMKDe.js";import"./DownloadOutlined-cTRsJVoi.js";import"./CaretDownOutlined-BdKuwkK2.js";import"./CaretUpOutlined-CBZ3orfd.js";import"./Slider-D_21UATg.js";import"./visuallyHidden-J1ppfhCd.js";import"./CheckOutlined-ByG7qEtx.js";import"./Pagination-B5ZV5Mua.js";import"./index-DROKURrI.js";import"./Checkbox-CkJQfgQ3.js";import"./MinusOutlined-BGvdEDO-.js";import"./index-x97IbILS.js";function V({data:o,columns:n}){const[a,g]=d.useState({}),r=P({data:o,columns:n,state:{rowSelection:a},enableRowSelection:!0,onRowSelectionChange:g,getCoreRowModel:T(),getPaginationRowModel:Q(),debugTable:!0});d.useEffect(()=>g({5:!0}),[]);let u=[];return n.map(s=>s.accessorKey&&u.push({label:typeof s.header=="string"?s.header:"#",key:s.accessorKey})),e.jsx(w,{title:"Row Selection",content:!1,secondary:e.jsx(z,{data:r.getSelectedRowModel().flatRows.map(s=>s.original).length===0?o:r.getSelectedRowModel().flatRows.map(s=>s.original),headers:u,filename:"row-selection.csv"}),codeHighlight:!0,codeString:JSON.stringify({rowSelection:a,"flatRows[].original":r.getSelectedRowModel().flatRows.map(s=>s.original)},null,2),children:e.jsx(M,{children:e.jsxs(y,{children:[e.jsx(D,{selected:Object.keys(a).length}),e.jsx(k,{children:e.jsxs(H,{children:[e.jsx(E,{children:r.getHeaderGroups().map(s=>e.jsx(p,{sx:{"& > th:first-of-type":{width:"58px"}},children:s.headers.map(l=>e.jsx(S,{...l.column.columnDef.meta,children:l.isPlaceholder?null:h(l.column.columnDef.header,l.getContext())},l.id))},s.id))}),e.jsx(N,{children:r.getRowModel().rows.map(s=>e.jsx(p,{children:s.getVisibleCells().map(l=>e.jsx(S,{...l.column.columnDef.meta,children:h(l.column.columnDef.cell,l.getContext())},l.id))},s.id))})]})}),e.jsxs(e.Fragment,{children:[e.jsx(C,{}),e.jsx(b,{sx:{p:2},children:e.jsx(K,{setPageSize:r.setPageSize,setPageIndex:r.setPageIndex,getState:r.getState,getPageCount:r.getPageCount})})]})]})})})}function G(){const o=v(100),n=d.useMemo(()=>[{id:"select",header:({table:a})=>e.jsx(x,{checked:a.getIsAllRowsSelected(),indeterminate:a.getIsSomeRowsSelected(),onChange:a.getToggleAllRowsSelectedHandler()}),cell:({row:a})=>e.jsx(x,{checked:a.getIsSelected(),disabled:!a.getCanSelect(),indeterminate:a.getIsSomeSelected(),onChange:a.getToggleSelectedHandler()})},{header:"Name",accessorKey:"fullName"},{header:"Email",accessorKey:"email"},{header:"Age",accessorKey:"age",meta:{className:"cell-right"}},{header:"Status",accessorKey:"status",cell:a=>{switch(a.getValue()){case"Complicated":return e.jsx(m,{color:"error",label:"Complicated",size:"small",variant:"light"});case"Relationship":return e.jsx(m,{color:"success",label:"Relationship",size:"small",variant:"light"});case"Single":default:return e.jsx(m,{color:"info",label:"Single",size:"small",variant:"light"})}}},{header:"Profile Progress",accessorKey:"progress",cell:a=>e.jsx(I,{value:a.getValue(),sx:{minWidth:75}})}],[]);return e.jsx(V,{data:o,columns:n})}V.propTypes={data:R.array,columns:R.array};function J(o,n){return B(o,q,n)}const $=new L;async function X(o){await new Promise(a=>setTimeout(a,500));const n=v(100);return{rows:n.slice(o.pageIndex*o.pageSize,(o.pageIndex+1)*o.pageSize),pageCount:Math.ceil(n.length/o.pageSize)}}function U(){const o=d.useMemo(()=>[{id:"select",header:({table:t})=>e.jsx(x,{checked:t.getIsAllRowsSelected(),indeterminate:t.getIsSomeRowsSelected(),onChange:t.getToggleAllRowsSelectedHandler()}),cell:({row:t})=>e.jsx(x,{checked:t.getIsSelected(),disabled:!t.getCanSelect(),indeterminate:t.getIsSomeSelected(),onChange:t.getToggleSelectedHandler()})},{header:"Name",accessorKey:"fullName"},{header:"Email",accessorKey:"email"},{header:"Age",accessorKey:"age",meta:{className:"cell-right"}},{header:"Status",accessorKey:"status",cell:t=>{switch(t.getValue()){case"Complicated":return e.jsx(m,{color:"error",label:"Complicated",size:"small",variant:"light"});case"Relationship":return e.jsx(m,{color:"success",label:"Relationship",size:"small",variant:"light"});case"Single":default:return e.jsx(m,{color:"info",label:"Single",size:"small",variant:"light"})}}},{header:"Profile Progress",accessorKey:"progress",cell:t=>e.jsx(I,{value:t.getValue(),sx:{minWidth:75}})}],[]),[n,a]=d.useState({}),[{pageIndex:g,pageSize:r},u]=d.useState({pageIndex:0,pageSize:10}),s={pageIndex:g,pageSize:r},{data:l}=J({queryKey:["data",s],queryFn:()=>X(s),placeholderData:W}),A=d.useMemo(()=>[],[]),O=d.useMemo(()=>({pageIndex:g,pageSize:r}),[g,r]),c=P({data:(l==null?void 0:l.rows)??A,columns:o,pageCount:(l==null?void 0:l.pageCount)??-1,state:{pagination:O,rowSelection:n},getRowId:t=>t.id.toString(),enableRowSelection:!0,onRowSelectionChange:a,onPaginationChange:u,getCoreRowModel:T(),manualPagination:!0,debugTable:!0});d.useEffect(()=>a({1:!0,5:!0,7:!0}),[]);let j=[];return o.map(t=>t.accessorKey&&j.push({label:typeof t.header=="string"?t.header:"#",key:t.accessorKey})),e.jsx(w,{title:"Row Selection (Pagination Control)",content:!1,secondary:e.jsx(z,{data:c.getSelectedRowModel().flatRows.map(t=>t.original).length===0?c.getRowModel().rows.map(t=>t.original):c.getSelectedRowModel().flatRows.map(t=>t.original),headers:j,filename:"rsp-control.csv"}),codeHighlight:!0,codeString:JSON.stringify({rowSelection:n},null,2),children:e.jsx(M,{children:e.jsxs(y,{children:[e.jsx(D,{selected:Object.keys(n).length}),e.jsx(k,{children:e.jsxs(H,{children:[e.jsx(E,{children:c.getHeaderGroups().map(t=>e.jsx(p,{sx:{"& > th:first-of-type":{width:"58px"}},children:t.headers.map(i=>e.jsx(S,{...i.column.columnDef.meta,children:i.isPlaceholder?null:h(i.column.columnDef.header,i.getContext())},i.id))},t.id))}),e.jsx(N,{children:c.getRowModel().rows.map(t=>e.jsx(p,{children:t.getVisibleCells().map(i=>e.jsx(S,{...i.column.columnDef.meta,children:h(i.column.columnDef.cell,i.getContext())},i.id))},t.id))})]})}),e.jsxs(e.Fragment,{children:[e.jsx(C,{}),e.jsx(b,{sx:{p:2},children:e.jsx(K,{setPageSize:c.setPageSize,setPageIndex:c.setPageIndex,getState:c.getState,getPageCount:c.getPageCount})})]})]})})})}function Y(){return e.jsx(F,{client:$,children:e.jsx(U,{})})}function je(){return e.jsxs(f,{container:!0,spacing:3,children:[e.jsx(f,{item:!0,xs:12,children:e.jsx(G,{})}),e.jsx(f,{item:!0,xs:12,children:e.jsx(Y,{})})]})}export{je as default};
