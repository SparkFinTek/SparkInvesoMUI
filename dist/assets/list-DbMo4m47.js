import{j as e,G as j,t as o,T as n,B as b,P as u,c as z,f as H,r as c,h as K,bv as $,n as k,g as _,I as N,a5 as I,a9 as T,x as R,af as V,b9 as W,M as E,aJ as q,ao as J,ba as Q,bb as X,d as Y,ab as Z,a6 as ee,aO as te,bd as se}from"./index-DWuWYdwO.js";import{u as ae,g as ie,a as oe,b as ne,c as re,S as le,f as A}from"./ScrollX-CXfA3Xxu.js";import{r as ce}from"./index-BLlYVWof.js";import{C as de}from"./CaretUpOutlined-CBZ3orfd.js";import{C as me}from"./CaretDownOutlined-BdKuwkK2.js";import{_ as pe}from"./react-apexcharts.min-Cn9_MmoI.js";import{L as ue}from"./LinearWithLabel-BAPJjuSq.js";import ge from"./empty-C3rzbyof.js";import{A as he}from"./AlertColumnDelete-CuddLeIo.js";import{u as xe,a as je,d as F,e as fe}from"./invoice-CtEBVet3.js";import{I as M,D as be,S as ve,C as ye,R as Ce,H as Se,T as we}from"./Filter-8E__ZJ4x.js";import{D as Ie}from"./DeleteOutlined-Ce9XbAuj.js";import{E as Te}from"./EyeOutlined-B27Plxqr.js";import{T as Re,a as Pe,b as De}from"./TableContainer-DaSqANyU.js";import{T as ke}from"./TableHead-UeT6rlXJ.js";import{T as O}from"./TableRow-Cu26Yl8o.js";import{T as L}from"./TableCell-DifTD_db.js";import"./react-table-Rm1pjJ7G.js";import"./index-x97IbILS.js";import"./TableFooter-BwFzr5an.js";import"./DownloadOutlined-cTRsJVoi.js";import"./Slider-D_21UATg.js";import"./visuallyHidden-J1ppfhCd.js";import"./CheckOutlined-ByG7qEtx.js";import"./Pagination-B5ZV5Mua.js";import"./index-DROKURrI.js";import"./Checkbox-CkJQfgQ3.js";import"./MinusOutlined-BGvdEDO-.js";function U({color:i,title:d,count:m,percentage:r,isLoss:p,children:h,invoice:g}){return e.jsxs(j,{container:!0,direction:"row",spacing:2,children:[e.jsx(j,{item:!0,md:5,children:e.jsxs(o,{direction:"column",spacing:2,children:[e.jsx(n,{variant:"subtitle1",children:d}),e.jsxs(o,{direction:"column",spacing:1,children:[e.jsx(n,{variant:"h4",color:"inherit",children:m}),e.jsxs(o,{direction:"row",spacing:1,children:[e.jsx(n,{variant:"subtitle1",children:g}),e.jsx(n,{color:"secondary",children:"invoices"})]})]})]})}),e.jsx(j,{item:!0,md:7,children:e.jsx(b,{children:e.jsxs(o,{direction:"column",alignItems:"flex-end",justifyContent:"space-evenly",children:[r&&e.jsxs(o,{sx:{ml:1.25,pl:1},direction:"row",alignItems:"center",spacing:1,children:[!p&&e.jsx(de,{style:{fontSize:"0.75rem",color:`${i}`}}),p&&e.jsx(me,{style:{fontSize:"0.75rem",color:`${i}`}}),e.jsxs(n,{color:"secondary",children:[r,"%"]})]}),h]})})})]})}U.propTypes={color:u.any,title:u.string,count:u.string,percentage:u.number,isLoss:u.bool,children:u.any,invoice:u.string};function B({color:i,data:d}){const m=z(),{mode:r}=H(),p={chart:{id:"new-stack-chart",height:100,type:"area",toolbar:{show:!1},sparkline:{enabled:!0}},fill:{type:"gradient",gradient:{shadeIntensity:1,type:"vertical",inverseColors:!1,opacityFrom:.5,opacityTo:0}},plotOptions:{bar:{borderRadius:0}},dataLabels:{enabled:!1},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1},tooltip:{enabled:!1}},stroke:{width:1,curve:"smooth"},grid:{show:!1},yaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1}},tooltip:{x:{show:!1},y:{formatter(f){return`$ ${f}`}}}},{primary:h,secondary:g}=m.palette.text,y=m.palette.divider,[C,v]=c.useState(p);c.useEffect(()=>{v(f=>({...f,colors:[i.main],tooltip:{theme:r===K.DARK?"dark":"light"}}))},[r,h,g,y,m,i]);const[S]=c.useState([{name:"Sales",data:d}]);return e.jsx(pe,{options:C,series:S,type:"area",height:80})}B.propTypes={color:u.any,data:u.any};const Ae=(i,d,m,r)=>{const p=ce(i.getValue(d),m);return r(p),p.passed};function G({data:i,columns:d}){const m=$(),r=["All",...new Set(i.map(t=>t.status))],h=i.map(t=>t.status).reduce((t,a)=>({...t,[a]:(t[a]||0)+1}),{}),[g,y]=c.useState(r[0]),[C,v]=c.useState([{id:"customer_name",desc:!1}]),[S,f]=c.useState([]),[w,s]=c.useState({}),[l,P]=c.useState(""),x=ae({data:i,columns:d,state:{columnFilters:S,sorting:C,rowSelection:w,globalFilter:l},enableRowSelection:!0,onSortingChange:v,onRowSelectionChange:s,onGlobalFilterChange:P,onColumnFiltersChange:f,getRowCanExpand:()=>!0,getSortedRowModel:ie(),getFilteredRowModel:oe(),getCoreRowModel:ne(),getPaginationRowModel:re(),globalFilterFn:Ae,debugTable:!0});let D=[];return d.map(t=>t.accessorKey&&D.push({label:typeof t.header=="string"?t.header:"#",key:t.accessorKey})),c.useEffect(()=>{f(g==="All"?[]:[{id:"status",value:g}])},[g]),e.jsxs(E,{content:!1,children:[e.jsx(b,{sx:{p:2.5,pb:0,width:"100%"},children:e.jsx(Q,{value:g,onChange:(t,a)=>y(a),sx:{borderBottom:1,borderColor:"divider"},children:r.map((t,a)=>e.jsx(X,{label:t,value:t,icon:e.jsx(I,{label:t==="All"?i.length:t==="Paid"?h.Paid:t==="Unpaid"?h.Unpaid:h.Cancelled,color:t==="All"?"primary":t==="Paid"?"success":t==="Unpaid"?"warning":"error",variant:"light",size:"small"}),iconPosition:"end"},a))})}),e.jsxs(o,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",sx:{padding:2.5},children:[e.jsx(be,{value:l??"",onFilterChange:t=>P(String(t)),placeholder:`Search ${i.length} records...`}),e.jsxs(o,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(ve,{getState:x.getState,getAllColumns:x.getAllColumns,setSorting:v}),e.jsx(Y,{variant:"contained",startIcon:e.jsx(Z,{}),onClick:t=>{t.stopPropagation(),m("/apps/invoice/create")},children:"Add Invoice"}),e.jsx(ye,{data:x.getSelectedRowModel().flatRows.map(t=>t.original),headers:D,filename:"customer-list.csv"})]})]}),e.jsx(le,{children:e.jsxs(o,{children:[e.jsx(Ce,{selected:Object.keys(w).length}),e.jsx(Re,{children:e.jsxs(Pe,{children:[e.jsx(ke,{children:x.getHeaderGroups().map(t=>e.jsx(O,{children:t.headers.map(a=>(a.column.columnDef.meta!==void 0&&a.column.getCanSort()&&Object.assign(a.column.columnDef.meta,{className:a.column.columnDef.meta.className+" cursor-pointer prevent-select"}),e.jsx(L,{...a.column.columnDef.meta,onClick:a.column.getToggleSortingHandler(),...a.column.getCanSort()&&a.column.columnDef.meta===void 0&&{className:"cursor-pointer prevent-select"},children:a.isPlaceholder?null:e.jsxs(o,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(b,{children:A(a.column.columnDef.header,a.getContext())}),a.column.getCanSort()&&e.jsx(Se,{column:a.column})]})},a.id)))},t.id))}),e.jsx(De,{children:x.getRowModel().rows.map(t=>e.jsx(O,{children:t.getVisibleCells().map(a=>e.jsx(L,{...a.column.columnDef.meta,children:A(a.column.columnDef.cell,a.getContext())},a.id))},t.id))})]})}),e.jsxs(e.Fragment,{children:[e.jsx(ee,{}),e.jsx(b,{sx:{p:2},children:e.jsx(we,{setPageSize:x.setPageSize,setPageIndex:x.setPageIndex,getState:x.getState,getPageCount:x.getPageCount})})]})]})})]})}function nt(){const i=z(),d=$(),{invoiceLoading:m,invoice:r}=xe(),{invoiceMaster:p}=je(),h=[{title:"Paid",count:"$7,825",percentage:70.5,isLoss:!1,invoice:"9",color:i.palette.success,chartData:[200,600,100,400,300,400,50]},{title:"Unpaid",count:"$1,880",percentage:27.4,isLoss:!0,invoice:"6",color:i.palette.warning,chartData:[100,550,300,350,200,100,300]},{title:"Overdue",count:"$3,507",percentage:27.4,isLoss:!0,invoice:"4",color:i.palette.error,chartData:[100,550,200,300,100,200,300]}],[g,y]=c.useState(0),[C,v]=c.useState(0),S=s=>{s&&(fe(g),te({open:!0,message:"Column deleted successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"}})),F(!1)},f=c.useMemo(()=>[{id:"select",header:({table:s})=>e.jsx(M,{checked:s.getIsAllRowsSelected(),indeterminate:s.getIsSomeRowsSelected(),onChange:s.getToggleAllRowsSelectedHandler()}),cell:({row:s})=>e.jsx(M,{checked:s.getIsSelected(),disabled:!s.getCanSelect(),indeterminate:s.getIsSomeSelected(),onChange:s.getToggleSelectedHandler()})},{header:"Invoice Id",accessorKey:"id",meta:{className:"cell-center"}},{header:"User Info",accessorKey:"customer_name",cell:({row:s,getValue:l})=>e.jsxs(o,{direction:"row",spacing:1.5,alignItems:"center",children:[e.jsx(k,{alt:"Avatar 1",size:"sm",src:_(`avatar-${s.original.avatar?s.original.avatar:1}.png`,N.USERS)}),e.jsxs(o,{spacing:0,children:[e.jsx(n,{variant:"subtitle1",children:l()}),e.jsx(n,{color:"text.secondary",children:s.original.email})]})]})},{header:"Create Date",accessorKey:"date"},{header:"Due Date",accessorKey:"due_date"},{header:"Quantity",accessorKey:"quantity"},{header:"Status",accessorKey:"status",cell:s=>{switch(s.getValue()){case"Cancelled":return e.jsx(I,{color:"error",label:"Cancelled",size:"small",variant:"light"});case"Paid":return e.jsx(I,{color:"success",label:"Paid",size:"small",variant:"light"});case"Unpaid":default:return e.jsx(I,{color:"info",label:"Unpaid",size:"small",variant:"light"})}}},{header:"Actions",meta:{className:"cell-center"},disableSortBy:!0,cell:({row:s})=>e.jsxs(o,{direction:"row",alignItems:"center",justifyContent:"center",spacing:0,children:[e.jsx(T,{title:"View",children:e.jsx(R,{color:"secondary",onClick:l=>{l.stopPropagation(),d(`/apps/invoice/details/${s.original.id}`)},children:e.jsx(Te,{})})}),e.jsx(T,{title:"Edit",children:e.jsx(R,{color:"primary",onClick:l=>{l.stopPropagation(),d(`/apps/invoice/edit/${s.original.id}`)},children:e.jsx(V,{})})}),e.jsx(T,{title:"Delete",children:e.jsx(R,{color:"error",onClick:l=>{l.stopPropagation(),y(s.original.id),v(s.original.invoice_id),F(!0)},children:e.jsx(Ie,{})})})]})}],[]);let w=[{title:"Home",to:se},{title:"Invoice",to:"/apps/invoice/dashboard"},{title:"List"}];return e.jsxs(e.Fragment,{children:[e.jsx(W,{custom:!0,heading:"Invoice List",links:w}),e.jsxs(j,{container:!0,spacing:2,children:[e.jsx(j,{item:!0,md:8,children:e.jsx(j,{container:!0,direction:"row",spacing:2,children:h.map((s,l)=>e.jsx(j,{item:!0,sm:4,xs:12,children:e.jsx(E,{children:e.jsx(U,{title:s.title,count:s.count,percentage:s.percentage,isLoss:s.isLoss,invoice:s.invoice,color:s.color.main,children:e.jsx(B,{color:s.color,data:s.chartData})})})},l))})}),e.jsx(j,{item:!0,md:4,sm:12,xs:12,children:e.jsxs(b,{sx:{background:`linear-gradient(to right, ${i.palette.primary.dark}, ${i.palette.primary.main})`,borderRadius:1,p:1.75},children:[e.jsxs(o,{direction:"row",alignItems:"flex-end",justifyContent:"space-between",spacing:1,children:[e.jsxs(o,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(k,{alt:"Natacha",variant:"rounded",type:"filled",children:e.jsx(q,{style:{fontSize:"20px"}})}),e.jsxs(b,{children:[e.jsxs(o,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(n,{variant:"body1",color:"white",children:"Total Recievables"}),e.jsx(J,{style:{color:i.palette.background.paper}})]}),e.jsxs(o,{direction:"row",spacing:1,children:[e.jsx(n,{variant:"body2",color:"white",children:"Current"}),e.jsx(n,{variant:"body1",color:"white",children:"109.1k"})]})]})]}),e.jsxs(o,{direction:"row",spacing:1,children:[e.jsx(n,{variant:"body2",color:"white",children:"Overdue"}),e.jsx(n,{variant:"body1",color:"white",children:"62k"})]})]}),e.jsx(n,{variant:"h4",color:"white",sx:{pt:2,pb:1,zIndex:1},children:"$43,078"}),e.jsx(b,{sx:{maxWidth:"100%","& .MuiTypography-root":{color:"white"}},children:e.jsx(ue,{value:90,color:"warning"})})]})}),e.jsxs(j,{item:!0,xs:12,children:[m?e.jsx(ge,{}):e.jsx(G,{data:r,columns:f}),e.jsx(he,{title:C.toString(),open:p?p.alertPopup:!1,handleClose:S})]})]})]})}G.propTypes={data:u.array,columns:u.array};export{nt as default,Ae as fuzzyFilter};
