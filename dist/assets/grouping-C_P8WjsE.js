import{r as p,j as e,a5 as d,M,cD as k,t as w,x as T,d7 as E,aG as P,aC as V,B as D,P as R}from"./index-BHUrCk0l.js";import{u as v,d as K,j as B,b as N,S as O,f as i}from"./ScrollX-DcGhAfcX.js";import{u as A}from"./index-D2ELweeo.js";import{C as H}from"./Filter-DSKEKrb1.js";import{L}from"./LinearWithLabel-y4iFSsOL.js";import{m as U}from"./react-table-c1OiOfP-.js";import{U as W}from"./UngroupOutlined-BDaZxrNg.js";import{T as $,a as X,b as q}from"./TableContainer-DaC-e6W2.js";import{T as F}from"./TableHead-CKGYOjxM.js";import{T as c}from"./TableRow-Cq0HkC_w.js";import{T as m}from"./TableCell-Cc1KRl3a.js";import"./DownloadOutlined-BSo1VBPW.js";import"./CaretDownOutlined-D6iVVplt.js";import"./CaretUpOutlined-CDN-dwPs.js";import"./Slider-WmQyGqAk.js";import"./visuallyHidden-J1ppfhCd.js";import"./CheckOutlined-DgrF9T0m.js";import"./Pagination-ypUxIMC7.js";import"./index-CkjyhU3Q.js";import"./Checkbox-CD0fXkyM.js";import"./MinusOutlined-oI906KYU.js";import"./index-8VKuvd1R.js";function I({columns:g,data:u}){var y,G;const[n,S]=p.useState(["age"]),l=v({data:u,columns:g,state:{grouping:n},onGroupingChange:S,getExpandedRowModel:K(),getGroupedRowModel:B(),getCoreRowModel:N(),debugTable:!0}),h=p.useRef(null),{rows:x}=l.getRowModel(),f=A({count:x.length,getScrollElement:()=>h.current,estimateSize:()=>34,overscan:10}),r=f.getVirtualItems(),z=f.getTotalSize(),j=r.length>0&&((y=r==null?void 0:r[0])==null?void 0:y.start)||0,b=r.length>0?z-(((G=r==null?void 0:r[r.length-1])==null?void 0:G.end)||0):0;let C=[];return l.getAllColumns().map(s=>C.push({label:typeof s.columnDef.header=="string"?s.columnDef.header:"#",key:s.columnDef.accessorKey})),e.jsx(M,{content:!1,title:"Grouping",secondary:e.jsx(H,{data:l.getGroupedRowModel().rows.map(s=>s.original),headers:C,filename:"grouping.csv"}),children:e.jsx(O,{children:e.jsx($,{component:k,ref:h,sx:{height:544,overflow:"auto"},children:e.jsxs(X,{children:[e.jsx(F,{className:"sticky-header",children:l.getHeaderGroups().map(s=>e.jsx(c,{children:s.headers.map(t=>e.jsx(m,{...t.column.columnDef.meta,children:t.isPlaceholder?null:e.jsxs(w,{direction:"row",alignItems:"center",children:[t.column.getCanGroup()&&e.jsx(T,{color:t.column.getIsGrouped()?"error":"primary",onClick:t.column.getToggleGroupingHandler(),size:"small",sx:{p:0,width:24,height:24,fontSize:"1rem",mr:.75},children:t.column.getIsGrouped()?e.jsx(W,{}):e.jsx(E,{})}),i(t.column.columnDef.header,t.getContext())]})},t.id))},s.id))}),e.jsxs(q,{children:[j>0&&e.jsx(c,{children:e.jsx(m,{sx:{height:`${j}px`}})}),r.map(s=>{const t=x[s.index];return e.jsx(c,{children:t.getVisibleCells().map(o=>{let a="background.paper";return o.getIsGrouped()&&(a="primary.lighter"),o.getIsAggregated()&&(a="warning.lighter"),o.getIsPlaceholder()&&(a="error.lighter"),o.column.columnDef.meta!==void 0&&o.column.getCanSort()&&Object.assign(o.column.columnDef.meta,{style:{background:a}}),e.jsx(m,{...o.column.columnDef.meta,sx:{bgcolor:a},...o.getIsGrouped()&&o.column.columnDef.meta===void 0&&{style:{background:a}},children:o.getIsGrouped()?e.jsxs(w,{direction:"row",alignItems:"center",spacing:.5,children:[e.jsx(T,{color:"secondary",onClick:t.getToggleExpandedHandler(),size:"small",sx:{p:0,width:24,height:24},children:t.getIsExpanded()?e.jsx(P,{}):e.jsx(V,{})}),e.jsx(D,{children:i(o.column.columnDef.cell,o.getContext())})," ",e.jsxs(D,{children:["(",t.subRows.length,")"]})]}):o.getIsAggregated()?i(o.column.columnDef.aggregatedCell??o.column.columnDef.cell,o.getContext()):o.getIsPlaceholder()?null:i(o.column.columnDef.cell,o.getContext())},o.id)})},t.id)}),b>0&&e.jsx(c,{children:e.jsx(m,{sx:{height:`${b}px`}})})]})]})})})})}function fe(){const g=U(100),u=p.useMemo(()=>[{header:"Name",accessorKey:"fullName",enableGrouping:!1},{header:"Email",accessorKey:"email",enableGrouping:!1},{header:"Age",accessorKey:"age",meta:{className:"cell-right"}},{header:"Visits",accessorKey:"visits",enableGrouping:!1,meta:{className:"cell-right"}},{header:"Status",accessorKey:"status",cell:n=>{switch(n.getValue()){case"Complicated":return e.jsx(d,{color:"error",label:"Complicated",size:"small",variant:"light"});case"Relationship":return e.jsx(d,{color:"success",label:"Relationship",size:"small",variant:"light"});case"Single":default:return e.jsx(d,{color:"info",label:"Single",size:"small",variant:"light"})}}},{header:"Profile Progress",accessorKey:"progress",cell:n=>e.jsx(L,{value:n.getValue(),sx:{minWidth:75}}),enableGrouping:!1}],[]);return e.jsx(I,{data:g,columns:u})}I.propTypes={columns:R.array,data:R.array};export{fe as default};
