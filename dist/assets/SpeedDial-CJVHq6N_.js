import{bW as ce,bX as le,aR as k,bY as U,bj as u,r as s,b_ as pe,c as ue,bi as L,c0 as de,ci as fe,c3 as me,j as w,c4 as T,cj as De,c5 as be,ck as he,c6 as ge}from"./index-DWuWYdwO.js";import{F as xe}from"./Fab-B3qXrFY_.js";function Ce(o){return le("MuiSpeedDial",o)}const ye=ce("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),R=ye,Se=["ref"],we=["ariaLabel","FabProps","children","className","direction","hidden","icon","onBlur","onClose","onFocus","onKeyDown","onMouseEnter","onMouseLeave","onOpen","open","openIcon","TransitionComponent","transitionDuration","TransitionProps"],Re=["ref"],Ee=o=>{const{classes:n,open:l,direction:d}=o,b={root:["root",`direction${U(d)}`],fab:["fab"],actions:["actions",!l&&"actionsClosed"]};return be(b,Ce,n)};function D(o){if(o==="up"||o==="down")return"vertical";if(o==="right"||o==="left")return"horizontal"}const c=32,E=16,Fe=k("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(o,n)=>{const{ownerState:l}=o;return[n.root,n[`direction${U(l.direction)}`]]}})(({theme:o,ownerState:n})=>u({zIndex:(o.vars||o).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none"},n.direction==="up"&&{flexDirection:"column-reverse",[`& .${R.actions}`]:{flexDirection:"column-reverse",marginBottom:-c,paddingBottom:E+c}},n.direction==="down"&&{flexDirection:"column",[`& .${R.actions}`]:{flexDirection:"column",marginTop:-c,paddingTop:E+c}},n.direction==="left"&&{flexDirection:"row-reverse",[`& .${R.actions}`]:{flexDirection:"row-reverse",marginRight:-c,paddingRight:E+c}},n.direction==="right"&&{flexDirection:"row",[`& .${R.actions}`]:{flexDirection:"row",marginLeft:-c,paddingLeft:E+c}})),Pe=k(xe,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(o,n)=>n.fab})(()=>({pointerEvents:"auto"})),ve=k("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(o,n)=>{const{ownerState:l}=o;return[n.actions,!l.open&&n.actionsClosed]}})(({ownerState:o})=>u({display:"flex",pointerEvents:"auto"},!o.open&&{transition:"top 0s linear 0.2s",pointerEvents:"none"})),Me=s.forwardRef(function(n,l){const d=pe({props:n,name:"MuiSpeedDial"}),b=ue(),V={enter:b.transitions.duration.enteringScreen,exit:b.transitions.duration.leavingScreen},{ariaLabel:A,FabProps:{ref:W}={},children:H,className:X,direction:F="up",hidden:Y=!1,icon:h,onBlur:j,onClose:a,onFocus:I,onKeyDown:B,onMouseEnter:K,onMouseLeave:O,onOpen:g,open:Z,TransitionComponent:q=he,transitionDuration:G=V,TransitionProps:J}=d,x=L(d.FabProps,Se),Q=L(d,we),[i,f]=de({controlled:Z,default:!1,name:"SpeedDial",state:"open"}),C=u({},d,{open:i,direction:F}),y=Ee(C),m=fe(),P=s.useRef(0),v=s.useRef(),p=s.useRef([]);p.current=[p.current[0]];const ee=s.useCallback(e=>{p.current[0]=e},[]),oe=me(W,ee),ne=(e,t)=>r=>{p.current[e+1]=r,t&&t(r)},te=e=>{B&&B(e);const t=e.key.replace("Arrow","").toLowerCase(),{current:r=t}=v;if(e.key==="Escape"){f(!1),p.current[0].focus(),a&&a(e,"escapeKeyDown");return}if(D(t)===D(r)&&D(t)!==void 0){e.preventDefault();const $=t===r?1:-1,S=ge(P.current+$,0,p.current.length-1);p.current[S].focus(),P.current=S,v.current=r}};s.useEffect(()=>{i||(P.current=0,v.current=void 0)},[i]);const _=e=>{e.type==="mouseleave"&&O&&O(e),e.type==="blur"&&j&&j(e),m.clear(),e.type==="blur"?m.start(0,()=>{f(!1),a&&a(e,"blur")}):(f(!1),a&&a(e,"mouseLeave"))},se=e=>{x.onClick&&x.onClick(e),m.clear(),i?(f(!1),a&&a(e,"toggle")):(f(!0),g&&g(e,"toggle"))},N=e=>{e.type==="mouseenter"&&K&&K(e),e.type==="focus"&&I&&I(e),m.clear(),i||m.start(0,()=>{f(!0),g&&g(e,{focus:"focus",mouseenter:"mouseEnter"}[e.type])})},M=A.replace(/^[^a-z]+|[^\w:.-]+/gi,""),z=s.Children.toArray(H).filter(e=>s.isValidElement(e)),ie=z.map((e,t)=>{const r=e.props,{FabProps:{ref:$}={},tooltipPlacement:S}=r,re=L(r.FabProps,Re),ae=S||(D(F)==="vertical"?"left":"top");return s.cloneElement(e,{FabProps:u({},re,{ref:ne(t,$)}),delay:30*(i?t:z.length-t),open:i,tooltipPlacement:ae,id:`${M}-action-${t}`})});return w.jsxs(Fe,u({className:T(y.root,X),ref:l,role:"presentation",onKeyDown:te,onBlur:_,onFocus:N,onMouseEnter:N,onMouseLeave:_,ownerState:C},Q,{children:[w.jsx(q,u({in:!Y,timeout:G,unmountOnExit:!0},J,{children:w.jsx(Pe,u({color:"primary","aria-label":A,"aria-haspopup":"true","aria-expanded":i,"aria-controls":`${M}-actions`},x,{onClick:se,className:T(y.fab,x.className),ref:oe,ownerState:C,children:s.isValidElement(h)&&De(h,["SpeedDialIcon"])?s.cloneElement(h,{open:i}):h}))})),w.jsx(ve,{id:`${M}-actions`,role:"menu","aria-orientation":D(F),className:T(y.actions,!i&&y.actionsClosed),ownerState:C,children:ie})]}))}),Te=Me;export{Te as S};
