import{c as M,j as e,ay as Q,h as D,P as T,r as b,t as S,T as Y,x as w,ap as Z,aq as ee,z as B,a9 as _,e as te,k as re,g as ne,I as ie,w as R,aO as z,a1 as ae,a2 as se,G as g,M as P,B as E,y as K,_ as q,d as k,av as F}from"./index-DWuWYdwO.js";import{j as oe,u as H,P as U,A as le,C as ce,E as de,h as ue,d as pe,b as he,e as L,k as me,l as fe,D as xe,I as ge,m as je,n as ye}from"./ItemDetails-CNvzB0W6.js";import{T as Ce}from"./TeamOutlined-BeN5cDzh.js";import{s as Oe}from"./index-x97IbILS.js";import{A as be}from"./AlertColumnDelete-CuddLeIo.js";import{D as ve}from"./DeleteOutlined-Ce9XbAuj.js";import{S as A}from"./Skeleton-Cqh1Sn3g.js";import"./redux-DRbRO7As.js";import"./AppstoreOutlined-CIN2bh0d.js";import"./VideoCameraAddOutlined-BYsE6qeY.js";import"./MultiFile-Bmpxjt97.js";import"./CloseCircleFilled-SLzrU0Dd.js";import"./DesktopDatePicker-C2FLjWfN.js";import"./dateViewRenderers-Dv6mi70Y.js";function V({column:n}){const t=M(),p=l=>{oe({id:n.id,title:l.target.value,itemIds:n.itemIds})};return e.jsx(Q,{fullWidth:!0,value:n.title,onChange:p,sx:{mb:1.5,fontWeight:500,"& input:focus":{bgcolor:t.palette.mode===D.DARK?"grey.100":"grey.50"},"& input:hover":{bgcolor:t.palette.mode===D.DARK?"grey.100":"grey.50"},"& input:hover + fieldset":{display:"block"},"&, & input":{bgcolor:"transparent"},"& fieldset":{display:"none"},"& input:focus + fieldset":{display:"block"}}})}V.propTypes={column:T.any};const Ie=(n,t,p,l)=>({userSelect:"none",margin:"0 0 8px 0",padding:16,border:"1px solid",borderColor:p.palette.divider,background:R(p.palette.background.paper,n?.8:1),borderRadius:l,...t});function G({item:n,index:t}){const p=M(),{backlogs:l}=H(),h=!!n.image,c=l==null?void 0:l.userStory.filter(o=>{var O;return(O=o==null?void 0:o.itemIds)==null?void 0:O.filter(v=>v===n.id)[0]})[0],m=o=>{ue(o)},[u,j]=b.useState(null),f=o=>{j(o==null?void 0:o.currentTarget)},x=()=>{j(null)},[a,s]=b.useState(!1),C=o=>{s(!1),o&&(pe(n.id),z({open:!0,message:"Task Deleted successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"}}))},[r,i]=b.useState(!1),d=()=>{i(o=>!o)},y=()=>{i(o=>!o)};return e.jsx(U,{draggableId:n.id,index:t,children:(o,O)=>e.jsxs("div",{ref:o.innerRef,...o.draggableProps,...o.dragHandleProps,style:Ie(O.isDragging,o.draggableProps.style,p,"4px"),children:[e.jsxs(S,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:c?-.75:0},children:[e.jsx(Y,{onClick:()=>m(n.id),variant:"subtitle1",sx:{display:"inline-block",width:"calc(100% - 34px)",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",verticalAlign:"middle",cursor:"pointer","&:hover":{textDecoration:"underline"}},children:n.title}),e.jsx(w,{size:"small",color:"secondary",onClick:f,"aria-controls":"menu-comment","aria-haspopup":"true",children:e.jsx(Z,{})}),e.jsxs(ee,{id:"menu-comment",anchorEl:u,keepMounted:!0,open:!!u,onClose:x,variant:"selectedMenu",anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[e.jsx(B,{onClick:()=>{x(),m(n.id)},children:"Edit"}),e.jsx(B,{onClick:()=>{x(),s(!0)},children:"Delete"})]}),e.jsx(le,{title:n.title,open:a,handleClose:C})]}),c&&e.jsxs(e.Fragment,{children:[e.jsxs(S,{direction:"row",spacing:.5,alignItems:"center",children:[e.jsx(_,{title:"User Story",children:e.jsx(ce,{style:{color:p.palette.primary.dark,fontSize:"0.75rem"}})}),e.jsx(_,{title:c.title,children:e.jsxs(te,{variant:"caption",color:"primary.dark",underline:"hover",onClick:y,sx:{cursor:"pointer",pt:.5},children:["User Story #",c.id]})})]}),e.jsx(de,{story:c,open:r,handleDrawerOpen:d})]}),h&&e.jsx(re,{component:"img",image:ne(`${n.image}`,ie.PROFILE),sx:{width:"100%",borderRadius:1,mt:1.5},title:"Slider5 image"})]})},n.id)}G.propTypes={item:T.any,index:T.number};var W={exports:{}},N={},$={};Object.defineProperty($,"__esModule",{value:!0});var we={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M251.2 387H320v68.8c0 1.8 1.8 3.2 4 3.2h48c2.2 0 4-1.4 4-3.3V387h68.8c1.8 0 3.2-1.8 3.2-4v-48c0-2.2-1.4-4-3.3-4H376v-68.8c0-1.8-1.8-3.2-4-3.2h-48c-2.2 0-4 1.4-4 3.2V331h-68.8c-1.8 0-3.2 1.8-3.2 4v48c0 2.2 1.4 4 3.2 4zm328 0h193.6c1.8 0 3.2-1.8 3.2-4v-48c0-2.2-1.4-4-3.3-4H579.2c-1.8 0-3.2 1.8-3.2 4v48c0 2.2 1.4 4 3.2 4zm0 265h193.6c1.8 0 3.2-1.8 3.2-4v-48c0-2.2-1.4-4-3.3-4H579.2c-1.8 0-3.2 1.8-3.2 4v48c0 2.2 1.4 4 3.2 4zm0 104h193.6c1.8 0 3.2-1.8 3.2-4v-48c0-2.2-1.4-4-3.3-4H579.2c-1.8 0-3.2 1.8-3.2 4v48c0 2.2 1.4 4 3.2 4zm-195.7-81l61.2-74.9c4.3-5.2.7-13.1-5.9-13.1H388c-2.3 0-4.5 1-5.9 2.9l-34 41.6-34-41.6a7.85 7.85 0 00-5.9-2.9h-50.9c-6.6 0-10.2 7.9-5.9 13.1l61.2 74.9-62.7 76.8c-4.4 5.2-.8 13.1 5.8 13.1h50.8c2.3 0 4.5-1 5.9-2.9l35.5-43.5 35.5 43.5c1.5 1.8 3.7 2.9 5.9 2.9h50.8c6.6 0 10.2-7.9 5.9-13.1L383.5 675zM880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-36 732H180V180h664v664z"}}]},name:"calculator",theme:"outlined"};$.default=we;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return C}});var t=u(b),p=c($),l=c(ae);function h(r,i,d){return i in r?Object.defineProperty(r,i,{value:d,enumerable:!0,configurable:!0,writable:!0}):r[i]=d,r}function c(r){return r&&r.__esModule?r:{default:r}}function m(r){if(typeof WeakMap!="function")return null;var i=new WeakMap,d=new WeakMap;return(m=function(y){return y?d:i})(r)}function u(r,i){if(!i&&r&&r.__esModule)return r;if(r===null||typeof r!="object"&&typeof r!="function")return{default:r};var d=m(i);if(d&&d.has(r))return d.get(r);var y={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in r)if(O!=="default"&&Object.prototype.hasOwnProperty.call(r,O)){var v=o?Object.getOwnPropertyDescriptor(r,O):null;v&&(v.get||v.set)?Object.defineProperty(y,O,v):y[O]=r[O]}return y.default=r,d&&d.set(r,y),y}function j(r){for(var i=1;i<arguments.length;i++){var d=arguments[i]!=null?arguments[i]:{},y=Object.keys(d);typeof Object.getOwnPropertySymbols=="function"&&(y=y.concat(Object.getOwnPropertySymbols(d).filter(function(o){return Object.getOwnPropertyDescriptor(d,o).enumerable}))),y.forEach(function(o){h(r,o,d[o])})}return r}function f(r,i){var d=Object.keys(r);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(r);i&&(y=y.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),d.push.apply(d,y)}return d}function x(r,i){return i=i??{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach(function(d){Object.defineProperty(r,d,Object.getOwnPropertyDescriptor(i,d))}),r}var a=function(r,i){return t.createElement(l.default,x(j({},r),{ref:i,icon:p.default}))},s=t.forwardRef(a),C=s})(N);(function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const p=l(N);function l(c){return c&&c.__esModule?c:{default:c}}const h=p;t.default=h,n.exports=h})(W,W.exports);var De=W.exports;const Te=se(De),Se=new F.Chance;function X({columnId:n}){const[t,p]=b.useState(!1),l=()=>{p(a=>!a)},[h,c]=b.useState(""),[m,u]=b.useState(!1),j=a=>{(a.key==="Enter"||a.keyCode===13)&&f()},f=()=>{if(h.length>0){const a={id:`${Se.integer({min:1e3,max:9999})}`,title:h,dueDate:Oe(new Date,{days:0,hours:1,minutes:45}),image:!1,assign:"",description:"",priority:"low",attachments:[]};he(n,a,"0"),z({open:!0,message:"Task Added successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"}}),l(),c("")}else u(!0)},x=a=>{const s=a.target.value;c(s),s.length<=0?u(!0):u(!1)};return e.jsxs(g,{container:!0,alignItems:"center",spacing:1,sx:{marginTop:1},children:[t&&e.jsx(g,{item:!0,xs:12,children:e.jsx(P,{content:!1,children:e.jsx(E,{sx:{p:2,pb:1.5,transition:"background-color 0.25s ease-out"},children:e.jsxs(g,{container:!0,alignItems:"center",spacing:.5,children:[e.jsx(g,{item:!0,xs:12,children:e.jsx(K,{fullWidth:!0,placeholder:"Add Task",value:h,onChange:x,sx:{mb:3,"& input":{bgcolor:"transparent",p:0,borderRadius:"0px"},"& fieldset":{display:"none"},"& .MuiFormHelperText-root":{ml:0},"& .MuiOutlinedInput-root":{bgcolor:"transparent","&.Mui-focused":{boxShadow:"none"}}},onKeyUp:j,helperText:m?"Task title is required.":"",error:m})}),e.jsx(g,{item:!0,children:e.jsx(w,{children:e.jsx(Ce,{})})}),e.jsx(g,{item:!0,children:e.jsx(w,{children:e.jsx(Te,{})})}),e.jsx(g,{item:!0,xs:!0,zeroMinWidth:!0}),e.jsx(g,{item:!0,children:e.jsxs(S,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(_,{title:"Cancel",children:e.jsx(w,{size:"small",color:"error",onClick:l,children:e.jsx(q,{})})}),e.jsx(k,{variant:"contained",color:"primary",onClick:f,size:"small",children:"Add"})]})})]})})})}),!t&&e.jsx(g,{item:!0,xs:12,children:e.jsx(k,{variant:"dashed",color:"secondary",fullWidth:!0,onClick:l,children:"Add Task"})})]})}X.propTypes={columnId:T.string};const _e=(n,t,p,l)=>({minWidth:250,border:"1px solid",borderColor:p.palette.divider,borderRadius:l,userSelect:"none",margin:"0 16px 0 0",height:"100%",...t}),Pe=(n,t,p)=>{const l=t.palette.mode===D.DARK?R(t.palette.secondary.light,.2):t.palette.secondary.lighter,h=t.palette.mode===D.DARK?t.palette.text.disabled:R(t.palette.secondary.light,.65);return{background:n?h:l,padding:"8px 16px 14px",width:"auto",borderRadius:p}};function J({column:n,index:t}){const p=M(),{backlogs:l}=H(),h=n.itemIds.map(f=>l==null?void 0:l.items.filter(x=>x.id===f)[0]),c=()=>{u(!0)},[m,u]=b.useState(!1),j=f=>{u(!1),f&&(me(n.id),z({open:!0,message:"Column deleted successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"}}))};return e.jsx(U,{draggableId:n.id,index:t,children:(f,x)=>e.jsx("div",{ref:f.innerRef,...f.draggableProps,...f.dragHandleProps,style:_e(x.isDragging,f.draggableProps.style,p,"4px"),children:e.jsx(L,{droppableId:n.id,type:"item",children:(a,s)=>e.jsxs("div",{ref:a.innerRef,...a.droppableProps,style:Pe(s.isDraggingOver,p,"4px"),children:[e.jsxs(g,{container:!0,alignItems:"center",spacing:3,children:[e.jsx(g,{item:!0,xs:!0,zeroMinWidth:!0,children:e.jsx(V,{column:n})}),e.jsxs(g,{item:!0,sx:{mb:1.5},children:[e.jsx(_,{title:"Delete Column",children:e.jsx(w,{onClick:c,"aria-controls":"menu-simple-card","aria-haspopup":"true",color:"error",children:e.jsx(ve,{})})}),e.jsx(be,{title:n.title,open:m,handleClose:j})]})]}),h.map((C,r)=>e.jsx(G,{item:C,index:r},r)),a.placeholder,e.jsx(X,{columnId:n.id})]})})})})}J.propTypes={column:T.any,index:T.number};const Me=new F.Chance;function Ae(){const n=M(),[t,p]=b.useState(""),[l,h]=b.useState(!1),[c,m]=b.useState(!1),u=()=>{m(a=>!a)},j=()=>{if(t.length>0){const a={id:`${Me.integer({min:1e3,max:9999})}`,title:t,itemIds:[]};fe(a),z({open:!0,message:"Column Added successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"}}),m(s=>!s),p("")}else h(!0)},f=a=>{(a.key==="Enter"||a.keyCode===13)&&j()},x=a=>{const s=a.target.value;p(s),s.length<=0?h(!0):h(!1)};return e.jsx(P,{sx:{minWidth:250,bgcolor:n.palette.mode===D.DARK?"background.default":"secondary.lighter",height:"100%",borderColor:"divider"},contentSX:{p:1.5,"&:last-of-type":{pb:1.5}},children:e.jsxs(g,{container:!0,alignItems:"center",spacing:1,children:[c&&e.jsx(g,{item:!0,xs:12,children:e.jsx(P,{content:!1,children:e.jsx(E,{sx:{p:2,pb:1.5,transition:"background-color 0.25s ease-out"},children:e.jsxs(g,{container:!0,alignItems:"center",spacing:.5,children:[e.jsx(g,{item:!0,xs:12,children:e.jsx(K,{fullWidth:!0,placeholder:"Add Column",value:t,onChange:x,sx:{mb:3,"& input":{bgcolor:"transparent",p:0,borderRadius:"0px"},"& fieldset":{display:"none"},"& .MuiFormHelperText-root":{ml:0},"& .MuiOutlinedInput-root":{bgcolor:"transparent","&.Mui-focused":{boxShadow:"none"}}},onKeyUp:f,helperText:l?"Column title is required.":"",error:l})}),e.jsx(g,{item:!0,xs:!0,zeroMinWidth:!0}),e.jsx(g,{item:!0,children:e.jsxs(S,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(_,{title:"Cancel",children:e.jsx(w,{size:"small",color:"error",onClick:u,children:e.jsx(q,{})})}),e.jsx(k,{variant:"contained",color:"primary",onClick:j,size:"small",children:"Add"})]})})]})})})}),!c&&e.jsx(g,{item:!0,xs:12,children:e.jsx(k,{variant:"dashed",color:"secondary",fullWidth:!0,onClick:u,children:"Add Column"})})]})})}const ke=()=>({p:2.5,px:0,background:"transparent",display:"flex",overflow:"auto"}),I=[120,100,160,80,60];function Ne(){const n=M(),{backlogs:t,backlogsLoading:p}=H(),l=h=>{let c;const{source:m,destination:u,draggableId:j,type:f}=h;if(!u||u.droppableId===m.droppableId&&u.index===m.index)return;if(f==="column"){const s=Array.from(t==null?void 0:t.columnsOrder);s.splice(m.index,1),s.splice(u==null?void 0:u.index,0,j),je(s);return}const x=t==null?void 0:t.columns.filter(s=>s.id===m.droppableId)[0],a=t==null?void 0:t.columns.filter(s=>s.id===u.droppableId)[0];if(x===a){const s=Array.from(x.itemIds);s.splice(m.index,1),s.splice(u.index,0,j);const C={...x,itemIds:s};c=t==null?void 0:t.columns.map(r=>r.id===C.id?C:r)}else{const s=Array.from(x.itemIds);s.splice(m.index,1);const C={...x,itemIds:s},r=Array.from(a.itemIds);r.splice(u.index,0,j);const i={...a,itemIds:r};c=t==null?void 0:t.columns.map(d=>d.id===C.id?C:d.id===i.id?i:d)}ye(c)};return e.jsxs(E,{sx:{display:"flex"},children:[e.jsx(xe,{onDragEnd:l,children:e.jsx(L,{droppableId:"columns",direction:"horizontal",type:"column",children:h=>e.jsxs(P,{border:!1,ref:h.innerRef,sx:{bgcolor:"transparent",backgroundImage:"none"},contentSX:ke(),...h.droppableProps,children:[t==null?void 0:t.columnsOrder.map((c,m)=>{const u=t==null?void 0:t.columns.filter(j=>j.id===c)[0];return p?e.jsx(P,{content:!1,sx:{p:1.5,margin:"0 16px 0 0",minWidth:250,bgcolor:n.palette.mode===D.DARK?"background.paper":"secondary.lighter"},children:e.jsxs(S,{spacing:1.25,children:[e.jsx(A,{variant:"rounded",width:"100%",height:38}),e.jsx(A,{variant:"rounded",width:"100%",height:I[Math.floor(Math.random()*I.length)]}),e.jsx(A,{variant:"rounded",width:"100%",height:I[Math.floor(Math.random()*I.length)]}),e.jsx(A,{variant:"rounded",width:"100%",height:I[Math.floor(Math.random()*I.length)]})]})}):e.jsx(J,{column:u,index:m},c)}),h.placeholder,e.jsx(Ae,{})]})})}),e.jsx(ge,{})]})}export{Ne as default};
